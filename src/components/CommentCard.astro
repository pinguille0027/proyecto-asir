---
import ReplyCard from "./ReplyCard.astro";
import CommentForm from "./CommentForm";
interface Props {
  comment: any;
  slug: string;
}
const {comment, slug}=Astro.props

---


<article class={Array.isArray(comment.respuestas) && comment.respuestas.length > 0 ? 'hilo' : ''}>
  <section>
   <h4>{comment.autor}</h4> 
  </section>
  <section>
   <p>{comment.contenido}</p>
  </section>
   <section class="date"><span>{new Date(comment.created_at).toLocaleDateString('es-ES')}</span></section>
   <CommentForm slug={slug} id={comment.id} client:load/>
   <section>{Array.isArray(comment.respuestas) && comment.respuestas.length > 0 ? comment.respuestas.map((respuesta:any) =>
   <ReplyCard reply={respuesta} slug={slug}/>
   ) : null}
     </section>
  </article>
  <style>
    article{
      padding-left: 0.5rem;
      margin-top: 1rem;
    }
    .hilo{
      border-left: 1px solid rgb(var(--celeste));
      border-top: 1px solid rgb(var(--celeste));
    }
    .date{
      font-size: 0.75rem;
      text-align: end;
    }
  </style>
  